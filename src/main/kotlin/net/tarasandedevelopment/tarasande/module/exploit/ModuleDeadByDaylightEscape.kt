package net.tarasandedevelopment.tarasande.module.exploit

import net.minecraft.network.packet.c2s.play.PlayerInputC2SPacket
import net.tarasandedevelopment.tarasande.base.event.Event
import net.tarasandedevelopment.tarasande.base.module.Module
import net.tarasandedevelopment.tarasande.base.module.ModuleCategory
import net.tarasandedevelopment.tarasande.event.EventUpdate
import java.util.function.Consumer

class ModuleDeadByDaylightEscape : Module("Dead by daylight escape", "Insta-escapes in Gomme's dead by daylight", ModuleCategory.EXPLOIT) {

    val eventConsumer = Consumer<Event> { event ->
        if (event is EventUpdate && event.state == EventUpdate.State.POST) {
            for (i in 0..150) mc.networkHandler?.sendPacket(PlayerInputC2SPacket(if (i % 2 == 0) 1.0f else -1.0f, 0.0f, false, false))
            this.enabled = false
        }
    }

}